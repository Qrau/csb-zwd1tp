(this["webpackJsonpassessment-41"]=this["webpackJsonpassessment-41"]||[]).push([[0],{13:function(e){e.exports=JSON.parse('{"label":"Sleep and Skin conditions Survey","status":"online","start_date":"","end_date":"","questions":[{"id":1,"question":"How was your sleep last night ?","type":"flare_up","possible_answers":[0,1,2,3,4,5,6,7,8,9,10]},{"id":2,"question":"How good is your skin condition ?","type":"skin_health","possible_answers":[0,1,2,3,4,5,6,7,8,9,10]}]}')},25:function(e,t,n){},26:function(e,t,n){},27:function(e,t,n){},28:function(e,t,n){},29:function(e,t,n){"use strict";n.r(t);var i=n(1),s=n(12),r=n(6),o=n(2),a=n(0),c=function(){return Object(a.jsx)("div",{children:"Hello from Home Page"})},l=n(4),u=n(13),d="#33FFFF",b="#124169",j="#113350",p="#f8f8f8",m="#2ECC71",h="#FFA500",f=function(e){var t=e.question;return Object(a.jsxs)("h2",{style:{color:j},children:[" ",t," "]})},y=function(e){var t=e.children;return Object(a.jsx)("form",{"data-testid":"survey-form",style:{display:"flex",flexDirection:"column",justifyContent:"space-evenly",alignItems:"center",minHeight:"100%"},onSubmit:function(e){e.preventDefault()},children:t})},g=n(8),O=n(3),x=function(e){var t,n=e.possible_answers,i=e.question_id,s=e.question_title,r=e.storage,o=e.setStorage,c=function(e){o((function(t){return Object(O.a)(Object(O.a)({},t),{},Object(g.a)({},i,{score:e.target.value,question_id:e.target.id,question_title:s}))}))},l=null!==r&&void 0!==r&&null!==(t=r[i])&&void 0!==t&&t.score?m:h;return Object(a.jsx)("div",{style:Object(O.a)(Object(O.a)({},v.main),{},{border:"1px solid ".concat(l)}),children:n.map((function(e){var t;return Object(a.jsxs)("label",{style:v.label,children:[Object(a.jsx)("input",{id:i,value:e,onChange:c,checked:e===Number(null===r||void 0===r||null===(t=r[i])||void 0===t?void 0:t.score),type:"radio"}),Object(a.jsxs)("p",{children:[" ",e," "]})]},e)}))})},v={main:{display:"flex",flexWrap:"wrap",justifyContent:"center",padding:".5em",borderRadius:"14px"},label:{padding:"0 .3em"}},w=n(10),k=n(14),_=(n(25),function(e){var t,n=e.report,s=e.setReport,r=e.question_id,o=e.checkMark,c=Object(i.useState)(),u=Object(l.a)(c,2),d=u[0],b=u[1],j=Object(i.useState)(""),p=Object(l.a)(j,2),m=(p[0],p[1]),h=function(){var e=Object(k.a)(Object(w.a)().mark((function e(t){return Object(w.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(d);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(a.jsxs)("div",{style:S.main,children:[(null===(t=n.attachments[r])||void 0===t?void 0:t.length)&&o,Object(a.jsx)("input",{id:r,type:"file",onChange:function(e){b(e.target.files),m(e.target.files[0].name),s((function(t){return Object(O.a)(Object(O.a)({},t),{},{attachments:Object(O.a)(Object(O.a)({},t.attachments),{},Object(g.a)({},r,e.target.files))})}))},multiple:!0}),Object(a.jsx)("button",{style:S.button,onClick:h,children:"Upload"})]})}),S={main:{marginTop:"1em"},button:{color:b,border:"none",backgroundColor:"transparent",resize:"none",outline:"none"}},C=(n(26),function(){return Object(a.jsx)("div",{className:"loader_container",children:Object(a.jsx)("div",{className:"loader"})})}),q=function(e){var t=e.title;return Object(a.jsx)("h1",{"data-testid":"title",style:F.h1,children:t})},F={h1:{background:b,color:p,padding:"1em"}},H=function(e){var t=e.onClick;return Object(a.jsx)("button",{style:{color:"#33FFFF",backgroundColor:b,borderRadius:"46px",border:"0",fontSize:".9em",padding:"1em 2em",margin:"4em auto"},onClick:t,children:"submit"})},R=function(e){var t=e.children;return Object(a.jsx)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"space-evenly",alignItems:"center",height:"100%"},children:t})},W=(n(27),function(){return Object(a.jsxs)("span",{className:"checkmark",children:[Object(a.jsx)("div",{className:"checkmark_stem"}),Object(a.jsx)("div",{className:"checkmark_kick"})]})}),D=function(e){var t=e.message,n=e.setIsVisible,i=function(){n((function(e){return Object(O.a)(Object(O.a)({},e),{},{error:!1})}))};return Object(a.jsx)("div",{onClick:i,style:N.layout,children:Object(a.jsxs)("div",{onClick:function(e){return e.stopPropagation()},style:N.card,children:[Object(a.jsx)("h2",{style:N.h2,children:' "Oops, Something Went Wrong" '}),Object(a.jsx)("p",{style:N.p,children:t||"undefined error, please contact the support and they will help :)"}),Object(a.jsx)("button",{onClick:i,style:N.button,children:"close"})]})})},N={layout:{display:"flex",flexDirection:"column",alignContent:"center",height:"100%",width:"100%",position:"fixed",background:"rgb(255,255,255,0.8)",top:0,justifyContent:"space-evenly"},card:{display:"flex",flexDirection:"column",alignContent:"center",justifyContent:"space-evenly",height:"400px",maxWidth:"400px",margin:"auto",border:"1px solid #ccc",borderRadius:"14px",background:"white"},h2:{padding:"1em"},p:{padding:"0 2em"},wrapper:{display:"flex",justifyContent:"space-evenly",marginBottom:"3em"},button:{color:"#33FFFF",backgroundColor:b,borderRadius:"46px",border:"0",fontSize:".9em",padding:"1em 2em",margin:"0 auto"}},I=function(e){var t=e.setIsVisible,n=function(){t((function(e){return Object(O.a)(Object(O.a)({},e),{},{success:!1})}))};return Object(a.jsx)("div",{onClick:n,style:P.layout,children:Object(a.jsxs)("div",{onClick:function(e){return e.stopPropagation()},style:P.card,children:[Object(a.jsx)("h2",{style:P.h2,children:' " Success :) " '}),Object(a.jsx)("p",{style:P.p,children:"thank you ! you have successfully submitted your survey, you can refill another survey or you can return to the homepage"}),Object(a.jsxs)("div",{style:P.wrapper,children:[Object(a.jsx)(r.b,{onClick:n,style:P.Link,to:"/",children:"homepage"}),Object(a.jsx)("button",{onClick:n,style:P.button,children:"refill survey"})]})]})})},P={layout:{display:"flex",flexDirection:"column",alignContent:"center",height:"100%",width:"100%",position:"fixed",background:"rgb(255,255,255,0.8)",top:0,justifyContent:"space-evenly"},card:{display:"flex",flexDirection:"column",alignContent:"center",justifyContent:"space-evenly",height:"400px",maxWidth:"400px",margin:"auto",border:"1px solid #ccc",borderRadius:"14px",background:"white"},h2:{padding:"1em"},p:{padding:"0 2em"},wrapper:{display:"flex",justifyContent:"space-evenly",marginBottom:"3em"},Link:{color:"#33FFFF",backgroundColor:b,borderRadius:"46px",textDecoration:"none",fontSize:".9em",padding:"1em"},button:{color:"#33FFFF",backgroundColor:b,borderRadius:"46px",border:"0",fontSize:".9em",padding:"1em"}},L=n(15);var M=function(e,t){var n=Object(i.useState)((function(){if("undefined"===typeof window)return t;try{var n=window.localStorage.getItem(e);return n?JSON.parse(n):t}catch(i){return console.log(i),t}})),s=Object(l.a)(n,2),r=s[0],o=s[1];return{storedValue:r,setValue:function(t){try{var n=t instanceof Function?t(r):t;o(n),"undefined"!==typeof window&&window.localStorage.setItem(e,JSON.stringify(n))}catch(i){console.log(i)}}}},V=function(){var e,t=M("storage",{}),n=t.storedValue,s=t.setValue,r=Object(i.useState)({error:!1,success:!1}),o=Object(l.a)(r,2),c=o[0],d=o[1],b=Object(i.useState)(""),j=Object(l.a)(b,2),p=j[0],m=j[1],h=Object(i.useState)([]),g=Object(l.a)(h,2),v=g[0],w=g[1],k=function(e){var t=Object(i.useState)({label:"",status:"",start_date:null,end_date:null,questions:[]}),n=Object(l.a)(t,2),s=n[0],r=n[1];return Object(i.useEffect)((function(){var t=window.setTimeout((function(){r(e)}),3e3);return function(){return window.clearTimeout(t)}}),[]),{resp:s}}(u),S=k.resp,F=function(e){var t=Object(i.useState)({id:null,loading:!1,date:null,answers:[],attachments:{},username:""}),n=Object(l.a)(t,2),s=n[0],r=n[1];return Object(i.useEffect)((function(){var t;return s.loading&&(e((function(e){return Object(O.a)(Object(O.a)({},e),{},{success:!0})})),t=window.setTimeout((function(){r((function(e){return Object(O.a)(Object(O.a)({},e),{},{loading:!1})}))}),3e3)),function(){return window.clearTimeout(t)}}),[s.loading]),{report:s,setReport:r}}(d),N=F.report,P=F.setReport;return console.log("all reports",v),!N.loading&&(null===(e=S.questions)||void 0===e?void 0:e.length)>0?Object(a.jsxs)(y,{children:[Object(a.jsx)(q,{title:S.label}),S.questions.map((function(e){return Object(a.jsxs)(R,{children:[Object(a.jsx)(f,{question:e.question}),Object(a.jsx)(x,{possible_answers:e.possible_answers,question_id:e.id,question_title:e.question,storage:n,setStorage:s}),Object(a.jsx)(_,{question_id:e.id,report:N,setReport:P,checkMark:Object(a.jsx)(W,{})})]},e.id)})),Object(a.jsx)(H,{onClick:function(){!function(e,t,n,i,s,r,o,a){e&&Object.keys(e).length===n.questions.length?(s((function(e){return Object(O.a)(Object(O.a)({},e),{},{loading:!0,status:"success"})})),r((function(t){return[].concat(Object(L.a)(t),[Object(O.a)(Object(O.a)({},i),{},{username:"testuser",id:+new Date,date:(new Date).toLocaleString(),answers:e,survey_title:n.label})])})),t({})):(o((function(e){return Object(O.a)(Object(O.a)({},e),{},{error:!0})})),a("sorry! please select an answer for every question and try to submit again :)"),s((function(e){return Object(O.a)(Object(O.a)({},e),{},{status:"fail"})}))),s((function(e){return Object(O.a)(Object(O.a)({},e),{},{id:null,date:null,answers:{},attachments:{},username:""})}))}(n,s,S,N,P,w,d,m)}}),c.error&&Object(a.jsx)(D,{setIsVisible:d,message:p}),c.success&&Object(a.jsx)(I,{setIsVisible:d})]}):Object(a.jsx)(C,{})},z=n.p+"static/media/avatar-placeholder.331b27eb.png",A=function(e){var t=e.username,n=e.totalSurveys;return Object(a.jsxs)("div",{style:E.main,children:[Object(a.jsx)("img",{style:E.img,src:z,alt:"Avatar"}),Object(a.jsx)("h2",{"data-testid":"title",style:E.h2,children:t}),Object(a.jsxs)("p",{children:[" you have ",n||0," submitted Surveys "]})]})},E={main:{display:"flex",alignItems:"center",flexWrap:"wrap",justifyContent:"center",padding:"1em",border:"1px solid #ccc",margin:"2em auto",maxWidth:"20em"},img:{width:"4.5em",position:"relative",left:".5em"},h2:{background:b,color:p,padding:".2em 1em"}},J=[{id:1660828769365,loading:!1,date:"8/18/2022, 3:19:29 PM",answers:{1:{score:"7",question_id:"1",question_title:"How was your sleep last night ?"},2:{score:"2",question_id:"2",question_title:"How good is your skin condition ?"}},attachments:{},username:"testuser123",survey_title:"Sleep and Skin conditions Survey"},{id:1660828775925,loading:!1,date:"8/18/2022, 3:19:35 PM",answers:{1:{score:"7",question_id:"1",question_title:"How was your sleep last night ?"},2:{score:"9",question_id:"2",question_title:"How good is your skin condition ?"}},attachments:{},username:"testuser",status:"success",survey_title:"Sleep and Skin conditions Survey"},{id:1660828783493,loading:!1,date:"8/18/2022, 3:19:43 PM",answers:{1:{score:"3",question_id:"1",question_title:"How was your sleep last night ?"},2:{score:"5",question_id:"2",question_title:"How good is your skin condition ?"}},attachments:{},username:"testuser",status:"success",survey_title:"Sleep and Skin conditions Survey"},{id:1660828792620,loading:!1,date:"8/18/2022, 3:19:52 PM",answers:{1:{score:"10",question_id:"1",question_title:"How was your sleep last night ?"},2:{score:"3",question_id:"2",question_title:"How good is your skin condition ?"}},attachments:{},username:"testuser",status:"success",survey_title:"Sleep and Skin conditions Survey"},{id:1660828800861,loading:!1,date:"8/18/2022, 3:20:00 PM",answers:{1:{score:"1",question_id:"1",question_title:"How was your sleep last night ?"},2:{score:"8",question_id:"2",question_title:"How good is your skin condition ?"}},attachments:{},username:"testuser",status:"success",survey_title:"Sleep and Skin conditions Survey"}],T=function(){var e=Object(i.useState)(null),t=Object(l.a)(e,2),n=t[0],s=t[1];return Object(a.jsxs)("div",{children:[Object(a.jsx)(A,{username:J[0].username,totalSurveys:J.length}),Object(a.jsx)("div",{style:B.surveyWrapper,children:J.map((function(e,t){var i=e.id,r=e.date,o=e.answers,c=e.survey_title;return Object(a.jsx)("div",{onClick:function(){s(t)},style:B.surveyCardWrapper,children:Object(a.jsxs)("div",{style:B.surveyCard,children:[Object(a.jsxs)("p",{style:B.surveyCard.p,children:[" ",t+1," "]}),Object(a.jsxs)("time",{style:B.surveyCard.time,children:[" ",r," "]}),Object(a.jsxs)("h4",{style:B.surveyCard.h4,children:[" ",c," "]}),t===n&&Object.values(o).map((function(e,t){var n=e.question_title,i=e.score;return Object(a.jsxs)("section",{style:B.answerWrapper,children:[Object(a.jsxs)("p",{children:[" ",n," "]}),[0,1,2,3,4,5,6,7,8,9,10].map((function(e){return Object(a.jsxs)("label",{style:B.answerLabel,children:[Object(a.jsx)("input",{value:e,defaultChecked:e===Number(i),type:"radio",disabled:"true"}),Object(a.jsxs)("p",{children:[" ",e," "]})]},e)}))]},t)})),t===n&&Object(a.jsx)("i",{onClick:function(e){e.stopPropagation(),s(null)},style:B.surveyCard.i,children:"\u25b2"})]})},i)}))})]})},B={main:{},answerLabel:{display:"inline-block"},answerWrapper:{padding:"1em 0",border:"1px solid #ccc",borderRadius:"14px",margin:"1em 0"},surveyWrapper:{display:"flex",flexWrap:"wrap"},surveyCardWrapper:{left:0,right:0,marginLeft:"auto",marginRight:"auto",maxWidth:"23em"},surveyCard:{border:"1px solid #ccc",margin:".5em",borderRadius:"14px",padding:"2em",position:"relative",overflow:"hidden",color:"".concat(b),p:{margin:"auto",position:"absolute",background:"".concat(b),color:"".concat(p),padding:".5em",left:0,top:0},time:{margin:"0"},h4:{margin:"0"},i:{position:"relative",bottom:"-2em"}}},U=n.p+"static/media/nia-logo.0361c655.png",G=[{label:"Home",path:"/"},{label:"Survey",path:"/survey"},{label:"Account",path:"/account"}],K={nav:{background:b,display:"flex",justifyContent:"space-between",padding:"1em"},img:{width:"5em",margin:"auto 0",position:"relative"},Link:{color:d,textDecoration:"none",padding:"0 1em"}},Q=function(){return Object(a.jsxs)("nav",{style:K.nav,children:[Object(a.jsx)("img",{style:K.img,src:U,alt:"nia-medtech"}),Object(a.jsx)("div",{children:G.map((function(e,t){return Object(a.jsx)(r.b,{style:K.Link,to:e.path,children:e.label},t)}))})]})},X=(n(28),[{label:"Error",path:"*",element:Object(a.jsx)("p",{children:" not found... "})},{label:"Home",path:"/",element:Object(a.jsx)(c,{})},{label:"Survey",path:"/survey",element:Object(a.jsx)(V,{})},{label:"Account",path:"/account",element:Object(a.jsx)(T,{})}]);function Y(){return Object(a.jsxs)("div",{className:"App",children:[Object(a.jsx)(Q,{}),Object(a.jsx)(o.c,{children:X.map((function(e,t){var n=e.path,i=e.element;return Object(a.jsx)(o.a,{path:n,element:i},t)}))})]})}Object(s.createRoot)(document.getElementById("root")).render(Object(a.jsx)(i.StrictMode,{children:Object(a.jsx)(r.a,{children:Object(a.jsx)(Y,{})})}))}},[[29,1,2]]]);
//# sourceMappingURL=main.ace79e31.chunk.js.map